<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Dashboard</title>
    <link rel="stylesheet" href="user.css">
</head>
<body>
    <h2 class="centered-heading">Welcome to User Dashboard</h2>
    <div class="container">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <a href="{{ url_for('logout') }}" class="btn btn-danger">Logout</a>
        </div>
        <form method="POST">
            <div class="form-group">
                <input type="text" name="name" class="form-control" placeholder="Enter your name" required>
            </div>
            <h4>Select your issue:</h4>
            <div class="form-group">
                <input type="checkbox" id="garbage" name="complaint" value="Garbage full on streets">
                <label for="garbage">Garbage is full on streets</label><br>
                <input type="checkbox" id="drainage" name="complaint" value="Drainage blocking issues">
                <label for="drainage">Drainage blocking issues</label><br>
                <input type="checkbox" id="waste" name="complaint" value="Not collecting Daily wastes">
                <label for="waste">Not collecting Daily wastes</label><br>
                <input type="checkbox" id="dustbins" name="complaint" value="Street dustbins filled more than level">
                <label for="dustbins">Street dustbins filled more than level</label><br>
            </div>
            <div class="form-group">
                <label for="own-complaint">Write your own complaint:</label>
                <input type="text" placeholder="Write complaint" name="own-complaint" class="form-control" id="own-complaint">
            </div>
            <div class="form-group">
                <label for="address">Enter your address:</label>
                <input type="text" placeholder="Write your address" name="address" class="form-control" id="address" required>
            </div>
            <input type="submit" class="btn btn-primary" value="Submit">
        </form>

        <h3>Your Complaints</h3>
        <ul class="list-group">
            {% for complaint in complaints %}
                <li class="list-group-item">
                    {{ complaint['date_created'] }} - {{ complaint['issue_type'] }} - {{ complaint['status'] }}<br>
                    Address: {{ complaint['address'] }}<br>
                    Custom Complaint: {{ complaint['custom_complaint'] }}
                </li>
            {% else %}
                <li class="list-group-item">No complaints submitted yet.</li>
            {% endfor %}
        </ul>
    </div>
</body>
</html>
